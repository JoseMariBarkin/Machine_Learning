<!DOCTYPE html>
<!-- saved from url=(0014)about:internet -->
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta http-equiv="x-ua-compatible" content="IE=9" >

<title>Executive summary</title>

<style type="text/css">
body, td {
   font-family: sans-serif;
   background-color: white;
   font-size: 12px;
   margin: 8px;
}

tt, code, pre {
   font-family: 'DejaVu Sans Mono', 'Droid Sans Mono', 'Lucida Console', Consolas, Monaco, monospace;
}

h1 { 
   font-size:2.2em; 
}

h2 { 
   font-size:1.8em; 
}

h3 { 
   font-size:1.4em; 
}

h4 { 
   font-size:1.0em; 
}

h5 { 
   font-size:0.9em; 
}

h6 { 
   font-size:0.8em; 
}

a:visited {
   color: rgb(50%, 0%, 50%);
}

pre {	
   margin-top: 0;
   max-width: 95%;
   border: 1px solid #ccc;
   white-space: pre-wrap;
}

pre code {
   display: block; padding: 0.5em;
}

code.r, code.cpp {
   background-color: #F8F8F8;
}

table, td, th {
  border: none;
}

blockquote {
   color:#666666;
   margin:0;
   padding-left: 1em;
   border-left: 0.5em #EEE solid;
}

hr {
   height: 0px;
   border-bottom: none;
   border-top-width: thin;
   border-top-style: dotted;
   border-top-color: #999999;
}

@media print {
   * { 
      background: transparent !important; 
      color: black !important; 
      filter:none !important; 
      -ms-filter: none !important; 
   }

   body { 
      font-size:12pt; 
      max-width:100%; 
   }
       
   a, a:visited { 
      text-decoration: underline; 
   }

   hr { 
      visibility: hidden;
      page-break-before: always;
   }

   pre, blockquote { 
      padding-right: 1em; 
      page-break-inside: avoid; 
   }

   tr, img { 
      page-break-inside: avoid; 
   }

   img { 
      max-width: 100% !important; 
   }

   @page :left { 
      margin: 15mm 20mm 15mm 10mm; 
   }
     
   @page :right { 
      margin: 15mm 10mm 15mm 20mm; 
   }

   p, h2, h3 { 
      orphans: 3; widows: 3; 
   }

   h2, h3 { 
      page-break-after: avoid; 
   }
}

</style>

<!-- Styles for R syntax highlighter -->
<style type="text/css">
   pre .operator,
   pre .paren {
     color: rgb(104, 118, 135)
   }

   pre .literal {
     color: rgb(88, 72, 246)
   }

   pre .number {
     color: rgb(0, 0, 205);
   }

   pre .comment {
     color: rgb(76, 136, 107);
   }

   pre .keyword {
     color: rgb(0, 0, 255);
   }

   pre .identifier {
     color: rgb(0, 0, 0);
   }

   pre .string {
     color: rgb(3, 106, 7);
   }
</style>

<!-- R syntax highlighter -->
<script type="text/javascript">
var hljs=new function(){function m(p){return p.replace(/&/gm,"&amp;").replace(/</gm,"&lt;")}function f(r,q,p){return RegExp(q,"m"+(r.cI?"i":"")+(p?"g":""))}function b(r){for(var p=0;p<r.childNodes.length;p++){var q=r.childNodes[p];if(q.nodeName=="CODE"){return q}if(!(q.nodeType==3&&q.nodeValue.match(/\s+/))){break}}}function h(t,s){var p="";for(var r=0;r<t.childNodes.length;r++){if(t.childNodes[r].nodeType==3){var q=t.childNodes[r].nodeValue;if(s){q=q.replace(/\n/g,"")}p+=q}else{if(t.childNodes[r].nodeName=="BR"){p+="\n"}else{p+=h(t.childNodes[r])}}}if(/MSIE [678]/.test(navigator.userAgent)){p=p.replace(/\r/g,"\n")}return p}function a(s){var r=s.className.split(/\s+/);r=r.concat(s.parentNode.className.split(/\s+/));for(var q=0;q<r.length;q++){var p=r[q].replace(/^language-/,"");if(e[p]){return p}}}function c(q){var p=[];(function(s,t){for(var r=0;r<s.childNodes.length;r++){if(s.childNodes[r].nodeType==3){t+=s.childNodes[r].nodeValue.length}else{if(s.childNodes[r].nodeName=="BR"){t+=1}else{if(s.childNodes[r].nodeType==1){p.push({event:"start",offset:t,node:s.childNodes[r]});t=arguments.callee(s.childNodes[r],t);p.push({event:"stop",offset:t,node:s.childNodes[r]})}}}}return t})(q,0);return p}function k(y,w,x){var q=0;var z="";var s=[];function u(){if(y.length&&w.length){if(y[0].offset!=w[0].offset){return(y[0].offset<w[0].offset)?y:w}else{return w[0].event=="start"?y:w}}else{return y.length?y:w}}function t(D){var A="<"+D.nodeName.toLowerCase();for(var B=0;B<D.attributes.length;B++){var C=D.attributes[B];A+=" "+C.nodeName.toLowerCase();if(C.value!==undefined&&C.value!==false&&C.value!==null){A+='="'+m(C.value)+'"'}}return A+">"}while(y.length||w.length){var v=u().splice(0,1)[0];z+=m(x.substr(q,v.offset-q));q=v.offset;if(v.event=="start"){z+=t(v.node);s.push(v.node)}else{if(v.event=="stop"){var p,r=s.length;do{r--;p=s[r];z+=("</"+p.nodeName.toLowerCase()+">")}while(p!=v.node);s.splice(r,1);while(r<s.length){z+=t(s[r]);r++}}}}return z+m(x.substr(q))}function j(){function q(x,y,v){if(x.compiled){return}var u;var s=[];if(x.k){x.lR=f(y,x.l||hljs.IR,true);for(var w in x.k){if(!x.k.hasOwnProperty(w)){continue}if(x.k[w] instanceof Object){u=x.k[w]}else{u=x.k;w="keyword"}for(var r in u){if(!u.hasOwnProperty(r)){continue}x.k[r]=[w,u[r]];s.push(r)}}}if(!v){if(x.bWK){x.b="\\b("+s.join("|")+")\\s"}x.bR=f(y,x.b?x.b:"\\B|\\b");if(!x.e&&!x.eW){x.e="\\B|\\b"}if(x.e){x.eR=f(y,x.e)}}if(x.i){x.iR=f(y,x.i)}if(x.r===undefined){x.r=1}if(!x.c){x.c=[]}x.compiled=true;for(var t=0;t<x.c.length;t++){if(x.c[t]=="self"){x.c[t]=x}q(x.c[t],y,false)}if(x.starts){q(x.starts,y,false)}}for(var p in e){if(!e.hasOwnProperty(p)){continue}q(e[p].dM,e[p],true)}}function d(B,C){if(!j.called){j();j.called=true}function q(r,M){for(var L=0;L<M.c.length;L++){if((M.c[L].bR.exec(r)||[null])[0]==r){return M.c[L]}}}function v(L,r){if(D[L].e&&D[L].eR.test(r)){return 1}if(D[L].eW){var M=v(L-1,r);return M?M+1:0}return 0}function w(r,L){return L.i&&L.iR.test(r)}function K(N,O){var M=[];for(var L=0;L<N.c.length;L++){M.push(N.c[L].b)}var r=D.length-1;do{if(D[r].e){M.push(D[r].e)}r--}while(D[r+1].eW);if(N.i){M.push(N.i)}return f(O,M.join("|"),true)}function p(M,L){var N=D[D.length-1];if(!N.t){N.t=K(N,E)}N.t.lastIndex=L;var r=N.t.exec(M);return r?[M.substr(L,r.index-L),r[0],false]:[M.substr(L),"",true]}function z(N,r){var L=E.cI?r[0].toLowerCase():r[0];var M=N.k[L];if(M&&M instanceof Array){return M}return false}function F(L,P){L=m(L);if(!P.k){return L}var r="";var O=0;P.lR.lastIndex=0;var M=P.lR.exec(L);while(M){r+=L.substr(O,M.index-O);var N=z(P,M);if(N){x+=N[1];r+='<span class="'+N[0]+'">'+M[0]+"</span>"}else{r+=M[0]}O=P.lR.lastIndex;M=P.lR.exec(L)}return r+L.substr(O,L.length-O)}function J(L,M){if(M.sL&&e[M.sL]){var r=d(M.sL,L);x+=r.keyword_count;return r.value}else{return F(L,M)}}function I(M,r){var L=M.cN?'<span class="'+M.cN+'">':"";if(M.rB){y+=L;M.buffer=""}else{if(M.eB){y+=m(r)+L;M.buffer=""}else{y+=L;M.buffer=r}}D.push(M);A+=M.r}function G(N,M,Q){var R=D[D.length-1];if(Q){y+=J(R.buffer+N,R);return false}var P=q(M,R);if(P){y+=J(R.buffer+N,R);I(P,M);return P.rB}var L=v(D.length-1,M);if(L){var O=R.cN?"</span>":"";if(R.rE){y+=J(R.buffer+N,R)+O}else{if(R.eE){y+=J(R.buffer+N,R)+O+m(M)}else{y+=J(R.buffer+N+M,R)+O}}while(L>1){O=D[D.length-2].cN?"</span>":"";y+=O;L--;D.length--}var r=D[D.length-1];D.length--;D[D.length-1].buffer="";if(r.starts){I(r.starts,"")}return R.rE}if(w(M,R)){throw"Illegal"}}var E=e[B];var D=[E.dM];var A=0;var x=0;var y="";try{var s,u=0;E.dM.buffer="";do{s=p(C,u);var t=G(s[0],s[1],s[2]);u+=s[0].length;if(!t){u+=s[1].length}}while(!s[2]);if(D.length>1){throw"Illegal"}return{r:A,keyword_count:x,value:y}}catch(H){if(H=="Illegal"){return{r:0,keyword_count:0,value:m(C)}}else{throw H}}}function g(t){var p={keyword_count:0,r:0,value:m(t)};var r=p;for(var q in e){if(!e.hasOwnProperty(q)){continue}var s=d(q,t);s.language=q;if(s.keyword_count+s.r>r.keyword_count+r.r){r=s}if(s.keyword_count+s.r>p.keyword_count+p.r){r=p;p=s}}if(r.language){p.second_best=r}return p}function i(r,q,p){if(q){r=r.replace(/^((<[^>]+>|\t)+)/gm,function(t,w,v,u){return w.replace(/\t/g,q)})}if(p){r=r.replace(/\n/g,"<br>")}return r}function n(t,w,r){var x=h(t,r);var v=a(t);var y,s;if(v){y=d(v,x)}else{return}var q=c(t);if(q.length){s=document.createElement("pre");s.innerHTML=y.value;y.value=k(q,c(s),x)}y.value=i(y.value,w,r);var u=t.className;if(!u.match("(\\s|^)(language-)?"+v+"(\\s|$)")){u=u?(u+" "+v):v}if(/MSIE [678]/.test(navigator.userAgent)&&t.tagName=="CODE"&&t.parentNode.tagName=="PRE"){s=t.parentNode;var p=document.createElement("div");p.innerHTML="<pre><code>"+y.value+"</code></pre>";t=p.firstChild.firstChild;p.firstChild.cN=s.cN;s.parentNode.replaceChild(p.firstChild,s)}else{t.innerHTML=y.value}t.className=u;t.result={language:v,kw:y.keyword_count,re:y.r};if(y.second_best){t.second_best={language:y.second_best.language,kw:y.second_best.keyword_count,re:y.second_best.r}}}function o(){if(o.called){return}o.called=true;var r=document.getElementsByTagName("pre");for(var p=0;p<r.length;p++){var q=b(r[p]);if(q){n(q,hljs.tabReplace)}}}function l(){if(window.addEventListener){window.addEventListener("DOMContentLoaded",o,false);window.addEventListener("load",o,false)}else{if(window.attachEvent){window.attachEvent("onload",o)}else{window.onload=o}}}var e={};this.LANGUAGES=e;this.highlight=d;this.highlightAuto=g;this.fixMarkup=i;this.highlightBlock=n;this.initHighlighting=o;this.initHighlightingOnLoad=l;this.IR="[a-zA-Z][a-zA-Z0-9_]*";this.UIR="[a-zA-Z_][a-zA-Z0-9_]*";this.NR="\\b\\d+(\\.\\d+)?";this.CNR="\\b(0[xX][a-fA-F0-9]+|(\\d+(\\.\\d*)?|\\.\\d+)([eE][-+]?\\d+)?)";this.BNR="\\b(0b[01]+)";this.RSR="!|!=|!==|%|%=|&|&&|&=|\\*|\\*=|\\+|\\+=|,|\\.|-|-=|/|/=|:|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|\\?|\\[|\\{|\\(|\\^|\\^=|\\||\\|=|\\|\\||~";this.ER="(?![\\s\\S])";this.BE={b:"\\\\.",r:0};this.ASM={cN:"string",b:"'",e:"'",i:"\\n",c:[this.BE],r:0};this.QSM={cN:"string",b:'"',e:'"',i:"\\n",c:[this.BE],r:0};this.CLCM={cN:"comment",b:"//",e:"$"};this.CBLCLM={cN:"comment",b:"/\\*",e:"\\*/"};this.HCM={cN:"comment",b:"#",e:"$"};this.NM={cN:"number",b:this.NR,r:0};this.CNM={cN:"number",b:this.CNR,r:0};this.BNM={cN:"number",b:this.BNR,r:0};this.inherit=function(r,s){var p={};for(var q in r){p[q]=r[q]}if(s){for(var q in s){p[q]=s[q]}}return p}}();hljs.LANGUAGES.cpp=function(){var a={keyword:{"false":1,"int":1,"float":1,"while":1,"private":1,"char":1,"catch":1,"export":1,virtual:1,operator:2,sizeof:2,dynamic_cast:2,typedef:2,const_cast:2,"const":1,struct:1,"for":1,static_cast:2,union:1,namespace:1,unsigned:1,"long":1,"throw":1,"volatile":2,"static":1,"protected":1,bool:1,template:1,mutable:1,"if":1,"public":1,friend:2,"do":1,"return":1,"goto":1,auto:1,"void":2,"enum":1,"else":1,"break":1,"new":1,extern:1,using:1,"true":1,"class":1,asm:1,"case":1,typeid:1,"short":1,reinterpret_cast:2,"default":1,"double":1,register:1,explicit:1,signed:1,typename:1,"try":1,"this":1,"switch":1,"continue":1,wchar_t:1,inline:1,"delete":1,alignof:1,char16_t:1,char32_t:1,constexpr:1,decltype:1,noexcept:1,nullptr:1,static_assert:1,thread_local:1,restrict:1,_Bool:1,complex:1},built_in:{std:1,string:1,cin:1,cout:1,cerr:1,clog:1,stringstream:1,istringstream:1,ostringstream:1,auto_ptr:1,deque:1,list:1,queue:1,stack:1,vector:1,map:1,set:1,bitset:1,multiset:1,multimap:1,unordered_set:1,unordered_map:1,unordered_multiset:1,unordered_multimap:1,array:1,shared_ptr:1}};return{dM:{k:a,i:"</",c:[hljs.CLCM,hljs.CBLCLM,hljs.QSM,{cN:"string",b:"'\\\\?.",e:"'",i:"."},{cN:"number",b:"\\b(\\d+(\\.\\d*)?|\\.\\d+)(u|U|l|L|ul|UL|f|F)"},hljs.CNM,{cN:"preprocessor",b:"#",e:"$"},{cN:"stl_container",b:"\\b(deque|list|queue|stack|vector|map|set|bitset|multiset|multimap|unordered_map|unordered_set|unordered_multiset|unordered_multimap|array)\\s*<",e:">",k:a,r:10,c:["self"]}]}}}();hljs.LANGUAGES.r={dM:{c:[hljs.HCM,{cN:"number",b:"\\b0[xX][0-9a-fA-F]+[Li]?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+(?:[eE][+\\-]?\\d*)?L\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\b\\d+\\.(?!\\d)(?:i\\b)?",e:hljs.IMMEDIATE_RE,r:1},{cN:"number",b:"\\b\\d+(?:\\.\\d*)?(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"number",b:"\\.\\d+(?:[eE][+\\-]?\\d*)?i?\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"keyword",b:"(?:tryCatch|library|setGeneric|setGroupGeneric)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\.",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\.\\.\\d+(?![\\w.])",e:hljs.IMMEDIATE_RE,r:10},{cN:"keyword",b:"\\b(?:function)",e:hljs.IMMEDIATE_RE,r:2},{cN:"keyword",b:"(?:if|in|break|next|repeat|else|for|return|switch|while|try|stop|warning|require|attach|detach|source|setMethod|setClass)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"literal",b:"(?:NA|NA_integer_|NA_real_|NA_character_|NA_complex_)\\b",e:hljs.IMMEDIATE_RE,r:10},{cN:"literal",b:"(?:NULL|TRUE|FALSE|T|F|Inf|NaN)\\b",e:hljs.IMMEDIATE_RE,r:1},{cN:"identifier",b:"[a-zA-Z.][a-zA-Z0-9._]*\\b",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"<\\-(?!\\s*\\d)",e:hljs.IMMEDIATE_RE,r:2},{cN:"operator",b:"\\->|<\\-",e:hljs.IMMEDIATE_RE,r:1},{cN:"operator",b:"%%|~",e:hljs.IMMEDIATE_RE},{cN:"operator",b:">=|<=|==|!=|\\|\\||&&|=|\\+|\\-|\\*|/|\\^|>|<|!|&|\\||\\$|:",e:hljs.IMMEDIATE_RE,r:0},{cN:"operator",b:"%",e:"%",i:"\\n",r:1},{cN:"identifier",b:"`",e:"`",r:0},{cN:"string",b:'"',e:'"',c:[hljs.BE],r:0},{cN:"string",b:"'",e:"'",c:[hljs.BE],r:0},{cN:"paren",b:"[[({\\])}]",e:hljs.IMMEDIATE_RE,r:0}]}};
hljs.initHighlightingOnLoad();
</script>




</head>

<body>
<h2>Executive summary</h2>

<p>Using devices such as Jawbone Up, Nike FuelBand, and Fitbit it is now possible to collect a large amount of data about personal activity relatively inexpensively. These type of devices are part of the quantified self movement Â a group of enthusiasts who take measurements about themselves regularly to improve their health, to find patterns in their behavior, or because they are tech geeks. One thing that people regularly do is quantify how much of a particular activity they do, but they rarely quantify how well they do it. In this project, your goal will be to use data from accelerometers on the belt, forearm, arm, and dumbell of 6 participants. They were asked to perform barbell lifts correctly and incorrectly in 5 different ways. More information is available from the website here: <a href="http://groupware.les.inf.puc-rio.br/har">http://groupware.les.inf.puc-rio.br/har</a> (see the section on the Weight Lifting Exercise Dataset).&ldquo;</p>

<h2>Data retrieval, processing and transformation</h2>

<p>The data for this project come from this source: <a href="http://groupware.les.inf.puc-rio.br/har">http://groupware.les.inf.puc-rio.br/har</a>. The information has been generously provided for use use in this cousera course by the authors, Velloso, E.; Bulling, A.; Gellersen, H.; Ugulino, W.; Fuks, H. They have allowed the use of their paper âQualitative Activity Recognition of Weight Lifting Exercises. Proceedings of 4th International Conference in Cooperation with SIGCHI (Augmented Human â13) . Stuttgart, Germany: ACM SIGCHI, 2013.
The training data for this project are available here:
<a href="https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv">https://d396qusza40orc.cloudfront.net/predmachlearn/pml-training.csv</a>
The test data are available here:
<a href="https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv">https://d396qusza40orc.cloudfront.net/predmachlearn/pml-testing.csv</a>
Both were downloaded for use in this assignment on September 3, 2015 at 6:50am GMT + 8hours.</p>

<h2>Choosing the prediction algorithm</h2>

<p>Steps Taken
1.Tidy data. Remove columns with little/no data.
2.Create Training and test data from traing data for cross validation checking
3.Trial 3 methods Random Forrest, Gradient boosted model and Linear discriminant analysis
4. Fine tune model through combinations of above methods, reduction of input variables or similar. The fine tuning will take into account accuracy first and speed of analysis second. </p>

<h2>Loading the data</h2>

<pre><code class="r">training &lt;- read.csv(&quot;pml-training.csv&quot;,na.strings=c(&quot;NA&quot;,&quot;&quot;))
# sum(is.na(training))
</code></pre>

<pre><code class="r">testing &lt;-read.csv(&quot;pml-testing.csv&quot;,na.strings=c(&quot;NA&quot;,&quot;&quot;))
</code></pre>

<h2>Processing the data</h2>

<p>We first check for the total number of NAs in the dataset and then total NAs in each training and testing datasets</p>

<pre><code class="r">sum(is.na(training))
</code></pre>

<pre><code>## [1] 1921600
</code></pre>

<pre><code class="r">na_train &lt;- sapply(training, function(x) {sum(is.na(x))})
table(na_train)
</code></pre>

<pre><code>## na_train
##     0 19216 
##    60   100
</code></pre>

<pre><code class="r">na_test = sapply(testing, function(x) {sum(is.na(x))})
table(na_test)
</code></pre>

<pre><code>## na_test
##   0  20 
##  60 100
</code></pre>

<p>Looking at the above values it is clear that 60 variables have 0 NA values while the rest have NA values for almost all the rows of the dataset, so we are going to ignore them using the following code.</p>

<pre><code class="r"># for training dataset
columnNACounts &lt;- colSums(is.na(training))        # getting NA counts for all columns
</code></pre>

<pre><code class="r">badColumns &lt;- columnNACounts &gt;= 19000             # ignoring columns with majority NA values
</code></pre>

<pre><code class="r">cleanTrainingdata &lt;- training[!badColumns]        # getting clean data
</code></pre>

<pre><code class="r">sum(is.na(cleanTrainingdata))                     # checking for NA values
</code></pre>

<pre><code>## [1] 0
</code></pre>

<pre><code class="r">cleanTrainingdata &lt;- cleanTrainingdata[, c(7:60)] # removing unnecessary columns
</code></pre>

<pre><code class="r"># for testing dataset
columnNACounts &lt;- colSums(is.na(testing))         # getting NA counts for all columns
</code></pre>

<pre><code class="r">badColumns &lt;- columnNACounts &gt;= 20                # ignoring columns with majority NA values
</code></pre>

<pre><code class="r">cleanTestingdata &lt;- testing[!badColumns]        # getting clean data
</code></pre>

<pre><code class="r">sum(is.na(cleanTestingdata))                     # checking for NA values
</code></pre>

<pre><code>## [1] 0
</code></pre>

<pre><code class="r">cleanTestingdata &lt;- cleanTestingdata[, c(7:60)] # removing unnecessary columns
</code></pre>

<p>Now the dataset donât have any NA values. Therefore, data can be now used for some exploratory analysis and prediction model.</p>

<h1>Exploratory Data Analysis</h1>

<p>We look at some summary statistics and frequency plot for the âclasseâ variable.</p>

<pre><code class="r">summary(cleanTrainingdata$classe)
</code></pre>

<pre><code>##    A    B    C    D    E 
## 5580 3797 3422 3216 3607
</code></pre>

<pre><code class="r">plot(cleanTrainingdata$classe,col=c(&quot;green&quot;, &quot;purple&quot;, &quot;orange&quot;, &quot;blue&quot;, &quot;yellow&quot;),main = &quot;`frequency&quot;, xlab = &quot;Types of Weight Lifting Exercices&quot;)
</code></pre>

<p><img src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAfgAAAH4CAMAAACR9g9NAAAAtFBMVEX9/v0AAAAAADkAAGUAAP8AOTkAOWUAOY8AZo8AZrUA/wA5AAA5ADk5AGU5OWU5OY85ZmU5ZrU5j485j9plAABlADllAGVlOQBlOTllOY9lZgBlZjllZmVltbVltdpltf2POQCPOTmPOWWPZgCPjzmPtY+P27WP29qP2/2gIPC1ZgC1Zjm1tWW124+1/rW1/v3ajzna24/a/rXa/tra/v39tWX924/9/rX9/tr9/v3/pQD//wCrCXkTAAAAPHRSTlP///////////////////////////////////////////////////////////////////////////8A//8oEjDHAAAACXBIWXMAAAsSAAALEgHS3X78AAALb0lEQVR4nO3dD3vaRADH8aVVK2LFCZubm5ZNp8jcyDYIRN//+/L+JIEWMsJyLbn8vt/HZysQT8anIXeVLI9ykuzRuZ8AnSfgRQNeNOBFA1404EUDXjTgRQNeNOBFA1404EUDXjTgRQNeNOBFA1404EUDXjTgRQNeNOBFA1404EUDXjQJ+Gx4tbS/Jhezcz+VziQBb8xv8nye3Jz7eXQoDXjTZpokydWn6cULu9+n5sZNce9Pk6vlZnq5yNcT+8ZQPGTu+SdJzL1um8uF22KVjM/95wiVHLz9dTlPbGP7LpC4O7bw5UNu+yQZFF9cLlLz7TDvz7FCBt6/1RvFQXHMt9bZ0EiuduGrh8yWY/dQNjQPmX83Gw7cVj1JDt7usyu3M5u3/JX9NljvvtVXD7kt/T3+7X0zvfo4GZz5zxAu4Gvhq3sK7fTizbA3h3hNeL+8y+0XbqJn4c2DaVK81dt23vzNF6nZ7fu1HJSEr+Z0n/migi8nd3Z+UHxT9CFNeMdrFa3qr3Yyv54UX5QP7Szw5klSfLv05xCvBF+X121Q2qefAAHfGL5Pizng88bwadKnHR541YAXDXjRgBcNeNGAFw140YAXDXjRgBcNeNGAFw140YAXDXjRgBcNeNGAFw140YAXLSB80r5wT4aOFBL+u7YB/3ABLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS8a8KIBLxrwogEvGvCiAS/acfhsmBSXaDgS8DF1FH4z9X9Z9+ro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" alt="plot of chunk unnamed-chunk-16"/> </p>

<h1>Model Building</h1>

<p>In this section, we will build a machine learning model for predicting the classe value based on the other features of the dataset.</p>

<h2>Data partitioning</h2>

<p>We first partition the cleanTrainingdata dataset into training and testing data sets for building model</p>

<pre><code class="r">library (caret)
</code></pre>

<pre><code class="r">inTrain &lt;- createDataPartition(y=cleanTrainingdata$classe, p=0.6, list=FALSE)
trainingdata &lt;- cleanTrainingdata[inTrain,]
testingdata &lt;- cleanTrainingdata[-inTrain,]
dim(trainingdata)
</code></pre>

<pre><code>## [1] 11776    54
</code></pre>

<h1>Model building</h1>

<p>Next, we use the features in the trainingdata dataset, we will build our model using the Random Forest machine learning technique.</p>

<pre><code class="r">library(randomForest)
</code></pre>

<pre><code>## Warning: package &#39;randomForest&#39; was built under R version 3.1.1
</code></pre>

<pre><code>## randomForest 4.6-10
## Type rfNews() to see new features/changes/bug fixes.
</code></pre>

<pre><code class="r">model &lt;- train(trainingdata$classe ~., data = trainingdata, method = &quot;rf&quot;, prox = TRUE, trControl=trainControl(method = &quot;cv&quot;,numbe = 4,allowParallel=TRUE))
print (model)
</code></pre>

<pre><code>## Random Forest 
## 
## 11776 samples
##    53 predictor
##     5 classes: &#39;A&#39;, &#39;B&#39;, &#39;C&#39;, &#39;D&#39;, &#39;E&#39; 
## 
## No pre-processing
## Resampling: Cross-Validated (4 fold) 
## 
## Summary of sample sizes: 8832, 8832, 8830, 8834 
## 
## Resampling results across tuning parameters:
## 
##   mtry  Accuracy  Kappa  Accuracy SD  Kappa SD
##    2    1         1      0.001        0.002   
##   27    1         1      0.004        0.005   
##   53    1         1      0.002        0.002   
## 
## Accuracy was used to select the optimal model using  the largest value.
## The final value used for the model was mtry = 27.
</code></pre>

<p>We build the model using 4-fold cross validation.</p>

<h2>In sample accuracy</h2>

<p>Now we calculate the &quot;in sample&rdquo;&ldquo; accuracy which is the prediction accuracy of our model on the training data set.</p>

<pre><code class="r">training_pred &lt;- predict(model, trainingdata)
confusionMatrix(training_pred, trainingdata$classe)
</code></pre>

<pre><code>## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    A    B    C    D    E
##          A 3348    0    0    0    0
##          B    0 2279    0    0    0
##          C    0    0 2054    0    0
##          D    0    0    0 1930    0
##          E    0    0    0    0 2165
## 
## Overall Statistics
##                                 
##                Accuracy : 1     
##                  95% CI : (1, 1)
##     No Information Rate : 0.284 
##     P-Value [Acc &gt; NIR] : &lt;2e-16
##                                 
##                   Kappa : 1     
##  Mcnemar&#39;s Test P-Value : NA    
## 
## Statistics by Class:
## 
##                      Class: A Class: B Class: C Class: D Class: E
## Sensitivity             1.000    1.000    1.000    1.000    1.000
## Specificity             1.000    1.000    1.000    1.000    1.000
## Pos Pred Value          1.000    1.000    1.000    1.000    1.000
## Neg Pred Value          1.000    1.000    1.000    1.000    1.000
## Prevalence              0.284    0.194    0.174    0.164    0.184
## Detection Rate          0.284    0.194    0.174    0.164    0.184
## Detection Prevalence    0.284    0.194    0.174    0.164    0.184
## Balanced Accuracy       1.000    1.000    1.000    1.000    1.000
</code></pre>

<p>Thus, from the above statistics we see that the in sample accuracy value is 1 which is 100%.</p>

<h2>Out of sample accuracy</h2>

<p>We also calculate the &quot;out of sample&rdquo; accuracy which is the prediction accuracy of our model on the testing data set.</p>

<pre><code class="r">testing_pred &lt;- predict(model, testingdata)
confusionMatrix(testing_pred, testingdata$classe)
</code></pre>

<pre><code>## Confusion Matrix and Statistics
## 
##           Reference
## Prediction    A    B    C    D    E
##          A 2231    9    0    0    0
##          B    0 1505    2    0    0
##          C    0    3 1366    9    0
##          D    0    1    0 1276    0
##          E    1    0    0    1 1442
## 
## Overall Statistics
##                                         
##                Accuracy : 0.997         
##                  95% CI : (0.995, 0.998)
##     No Information Rate : 0.284         
##     P-Value [Acc &gt; NIR] : &lt;2e-16        
##                                         
##                   Kappa : 0.996         
##  Mcnemar&#39;s Test P-Value : NA            
## 
## Statistics by Class:
## 
##                      Class: A Class: B Class: C Class: D Class: E
## Sensitivity             1.000    0.991    0.999    0.992    1.000
## Specificity             0.998    1.000    0.998    1.000    1.000
## Pos Pred Value          0.996    0.999    0.991    0.999    0.999
## Neg Pred Value          1.000    0.998    1.000    0.998    1.000
## Prevalence              0.284    0.193    0.174    0.164    0.184
## Detection Rate          0.284    0.192    0.174    0.163    0.184
## Detection Prevalence    0.285    0.192    0.176    0.163    0.184
## Balanced Accuracy       0.999    0.996    0.998    0.996    1.000
</code></pre>

<p>Thus, from the above statistics we see that the out of sample accuracy value is 0.996 which is 99.6%.</p>

<h1>Prediction Assignment</h1>

<p>In this section, we apply the above machine learning algorithm to each of the 20 test cases in the testing data set provided.</p>

<pre><code class="r">results &lt;- predict(model, cleanTestingdata)
results &lt;- as.character(results)
results
</code></pre>

<pre><code>##  [1] &quot;B&quot; &quot;A&quot; &quot;B&quot; &quot;A&quot; &quot;A&quot; &quot;E&quot; &quot;D&quot; &quot;B&quot; &quot;A&quot; &quot;A&quot; &quot;B&quot; &quot;C&quot; &quot;B&quot; &quot;A&quot; &quot;E&quot; &quot;E&quot; &quot;A&quot;
## [18] &quot;B&quot; &quot;B&quot; &quot;B&quot;
</code></pre>

</body>

</html>

